{% extends "layouts/dashboard_base.html" %}

{% load static %}
{% load i18n %}
{% load widget_tweaks %}

{% block title %} | 프로필 설정{% endblock title %}

{% block dashboard_content %}
<div id="layout-content">
  <form method="post" enctype="multipart/form-data" class="min-sm:container">
    {% csrf_token %}
      <div
          class="bg-primary/10 rounded-box relative w-full overflow-hidden p-6">
          <div class="flex justify-between">
              <div>
                  <div class="flex items-center gap-1">
                      <p class="text-base-content/80 text-sm">Pages</p>
                      <span
                          class="iconify lucide--chevron-right text-base-content/80 size-3.5"></span>
                      <p class="text-sm">Settings</p>
                  </div>
                  <p class="text-primary mt-4 text-xl font-medium">
                      My Profile
                  </p>
                  <p class="text-base-content/80">
                      Configure your preferences and customize your account
                      settings.
                  </p>
              </div>
              <div class="flex flex-col items-end justify-between">
                  <button class="btn btn-sm btn-primary max-xl:btn-square">
                      <span class="iconify lucide--settings-2 size-4"></span>
                      <span class="max-xl:hidden">Advanced Setup</span>
                  </button>
                  <div
                      class="text-base-content/60 flex items-center gap-2 max-xl:hidden">
                      <span class="iconify lucide--clock size-4"></span>
                      <p class="text-sm">Changed 6h ago</p>
                  </div>
              </div>
          </div>
          <span
              class="iconify lucide--settings text-primary/5 absolute start-1/2 -bottom-12 size-44 -rotate-25"></span>
      </div>
      <div class="card bg-base-100 card-border mt-6">
          <div class="card-body space-y-6 sm:space-y-20 sm:p-8">
              <div class="grid grid-cols-1 gap-5 xl:grid-cols-5">
                  <div class="xl:col-span-2">
                      <div class="flex items-center gap-2">
                          <span class="iconify lucide--id-card size-5"></span>
                          <p class="text-lg font-medium">User Profile</p>
                      </div>
                      <p class="text-base-content/60">
                          Manage your account information and settings
                      </p>
                  </div>
                  <div class="flex gap-5 max-lg:flex-col xl:col-span-3">
                    <label for="avatar-upload" class="cursor-pointer">
                      <div
                        class="avatar group relative size-24 min-w-24 overflow-hidden rounded-full"
                      >
                        <div class="bg-base-200 size-full relative">
                          <img src="{{ user.avatar.url }}" alt="Avatar" />
                        </div>
                        <div
                          class="absolute right-0 -bottom-8 left-0 h-6 w-full bg-black/60 text-center text-sm font-medium text-white opacity-0 backdrop-blur-xs transition-all group-hover:bottom-0 group-hover:opacity-100"
                        >
                          Edit
                        </div>
                      </div>
                    </label>
                  
                    <!-- input은 숨겨둔 채로, 위 라벨 클릭 시 연결됨 -->
                    <input
                      type="file"
                      name="avatar"
                      class="hidden"
                      id="avatar-upload"
                      accept="image/*"
                    />
                      <!---->
                      <div
                          class="fieldset grid grow grid-cols-1 gap-5 lg:grid-cols-2">
                          <div class="space-y-2">
                              <label class="fieldset-label" for="name">
                                  Name
                              </label>
                              <label class="input w-full">
                                  <span
                                      class="iconify lucide--user text-base-content/60 size-4.5"></span>
                                      {{ form.first_name|add_class:"grow"|attr:"placeholder:Name"|attr:"id:name" }}
                              </label>
                              {% if form.first_name.errors %}
                                <p class="text-error text-sm mt-1">{{ form.first_name.errors.0 }}</p>
                              {% endif %}
                          </div>
                          <div class="space-y-2">
                              <label class="fieldset-label">User</label>
                              <label class="input w-full">
                                <input
                                  type="text"
                                  value="{{ user.username }}"
                                  readonly
                                  class="bg-base-100 text-base-content/70 cursor-default"
                                />
                              </label>
                          </div>
                          <div class="space-y-2">
                            <label class="fieldset-label" for="email">Email</label>
                            <label class="input w-full">
                              <span class="iconify lucide--mail text-base-content/60 size-4.5"></span>
                              <input
                                type="text"
                                id="email"
                                name="email"
                                value="{{ user.email }}"
                                readonly
                                class="grow cursor-default text-base-content/70 bg-base-100"
                              />
                            </label>
                          </div>
                          <div class="space-y-2">
                              <label class="fieldset-label" for="mobile">
                                  Mobile
                              </label>
                              <label class="input w-full">
                                  <span
                                      class="iconify lucide--phone text-base-content/60 size-4.5"></span>
                                  <input
                                      type="text"
                                      class="grow"
                                      placeholder="Mobile"
                                      id="mobile" />
                              </label>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="grid grid-cols-1 gap-5 xl:grid-cols-5">
                  <div class="xl:col-span-2">
                      <div class="flex items-center gap-2">
                          <span class="iconify lucide--bell size-5"></span>
                          <p class="text-lg font-medium">Notifications</p>
                      </div>
                      <p class="text-base-content/60">
                          Manage your notification settings and preferences
                      </p>
                  </div>
                  <div class="gap-5 xl:col-span-3">
                      <div
                          class="fieldset grid grid-cols-1 gap-5 lg:grid-cols-3">
                          <div class="space-y-2">
                              <label
                                  class="fieldset-label"
                                  for="notification-channel">
                                  Channel
                              </label>
                              <select
                                  class="select w-full"
                                  aria-label="Notification Channel"
                                  id="notification-channel">
                                  <option value="email">Email</option>
                                  <option value="in-app">In App</option>
                                  <option value="sms">SMS</option>
                                  <option value="none">None</option>
                              </select>
                          </div>
                          <div class="space-y-2">
                              <label
                                  class="fieldset-label"
                                  for="notification-new-order">
                                  Notify on new order
                              </label>
                              <select
                                  class="select w-full"
                                  aria-label="New Order"
                                  id="notification-new-order">
                                  <option value="all">All</option>
                                  <option value="important">Important</option>
                                  <option value="mention">
                                      only @mention
                                  </option>
                                  <option value="none">None</option>
                              </select>
                          </div>
                          <div class="space-y-2">
                              <label
                                  class="fieldset-label"
                                  for="notification-activity">
                                  Activity Updates
                              </label>
                              <select
                                  class="select w-full"
                                  aria-label="Activity Updates"
                                  id="notification-activity">
                                  <option value="all-activity">
                                      All Activity
                                  </option>
                                  <option value="important-activity">
                                      Important Activity Only
                                  </option>
                                  <option value="mention">
                                      Only @mention
                                  </option>
                                  <option value="none">
                                      No Notifications
                                  </option>
                              </select>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="grid grid-cols-1 gap-5 xl:grid-cols-5">
                  <div class="xl:col-span-2">
                      <div class="flex items-center gap-2">
                          <span
                              class="iconify lucide--calendar-cog size-5"></span>
                          <p class="text-lg font-medium">Time Preferences</p>
                      </div>
                      <p class="text-base-content/60">
                          Set your timezone and time format
                      </p>
                  </div>
                  <div class="gap-5 xl:col-span-3">
                      <div
                          class="fieldset grid grid-cols-1 gap-5 lg:grid-cols-3">
                          <div class="space-y-2">
                              <label class="fieldset-label" for="timezone">
                                  Timezone
                              </label>
                              <select
                                  class="select w-full"
                                  aria-label="Timezone"
                                  id="timezone">
                                  <option value="america-toronto">
                                      GMT-5:00 – Toronto (EST)
                                  </option>
                                  <option value="america-chicago">
                                      GMT-6:00 – Chicago(CST)
                                  </option>
                                  <option value="america-denver">
                                      GMT-7:00 – Calgary (MST)
                                  </option>
                                  <option value="america-losangeles">
                                      GMT-8:00 – Vancouver (PST)
                                  </option>
                                  <option value="asia-kolkata">
                                      GMT+5:30 – Mumbai (IST)
                                  </option>
                              </select>
                          </div>
                          <div class="space-y-2">
                              <label
                                  class="fieldset-label"
                                  for="datetime-format">
                                  Datetime Format
                              </label>
                              <select
                                  class="select w-full"
                                  aria-label="Time &amp; Date Format"
                                  id="datetime-format">
                                  <option value="12-hour">
                                      12-hour (AM/PM)
                                  </option>
                                  <option value="24-hour">24-hour</option>
                                  <option value="dd-mm-yyyy">
                                      DD/MM/YYYY
                                  </option>
                                  <option value="mm-dd-yyyy">
                                      MM/DD/YYYY
                                  </option>
                                  <option value="yyyy-mm-dd">
                                      YYYY/MM/DD
                                  </option>
                              </select>
                          </div>
                          <div class="space-y-2">
                              <label
                                  class="fieldset-label"
                                  for="datetime-first-day">
                                  First day of week
                              </label>
                              <select
                                  class="select w-full"
                                  aria-label="First day of week"
                                  id="datetime-first-day">
                                  <option value="sunday">Sunday</option>
                                  <option value="monday">Monday</option>
                              </select>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      <div class="mt-6 flex justify-end gap-3">
        <a class="btn btn-sm btn-ghost" href="#">
            <span class="iconify lucide--x size-4"></span>
            취소
        </a>
        <button type="submit" class="btn btn-sm btn-primary">
            <span class="iconify lucide--arrow-up-from-line size-4"></span>
            업데이트
        </button>
    </div>
  </form>
</div>
{% endblock dashboard_content %}

{% block javascript %}
{{ block.super }}
<script src="{% static 'js/pages/dashboard/ecommerce.js' %}"></script>
{% endblock javascript %}
